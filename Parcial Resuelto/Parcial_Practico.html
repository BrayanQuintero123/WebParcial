<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Formulario de Gustos</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
<link rel="stylesheet" href="stilo.css">
<script src="comportamiento.js"></script>
</head>
<body>
<div class="form-container">
    <div class="contact_form">

		<div class="formulario">			
      <h1>Formulario de contacto</h1>
				<h3>Formulario de afilacion</h3>


					<form action="submeter-formulario.php" method="post">				

						
								<p>
									<label for="nombre" class="colocar_nombre">
									</label>
										<input type="text" name="introducir_nombre" id="nombre" required="obligatorio" placeholder="NombreCompleto">
								</p>
							
								<p>
									<label for="email" class="colocar_email">
									</label>
										<input type="email" name="introducir_email" id="email" required="obligatorio" placeholder="Email">
								</p>
						
								<p>
									<label for="telefone" class="colocar_telefono">
									</label>
										<input type="tel" name="introducir_telefono" id="telefono" placeholder="text">
								</p>	
                                
                                						
								<p>
									<label for="gustos" class="colocar_gusto">
									</label>
                                    <div class="container">
                                        <input type="text" id="gusto" placeholder="Introduce un gusto">
                                        <button type="button" class="button" onclick="agregarGusto()">Gustos</button>
                                    </div>
								</p>
                                
                                <table id="tablaGustos">
                                    <thead>
                                    <tr>
                                        <td> <i class="bi bi-clipboard-plus-fill"></i></td>
                                        <th>Gusto</th>
                                        <th>%</th>
                                        <th>Edit</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                            </table>
					</form>
		</div>	
        <div class="botonenvio">
            <button type="submit" class="button" onclick="enviarFormulario()">Enviar</button>
	    </div>
</div>
</body>
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Agrega un listener de eventos a la tabla para detectar clics en la palabra "Edit"
    document.getElementById('tablaGustos').addEventListener('click', function(event) {
        var target = event.target;
        // Verifica si se hizo clic en la palabra "Edit"
        if (target.tagName === 'SPAN' && target.textContent === 'Edit') {
            var row = target.parentNode.parentNode; // Obtiene la fila de la tabla
            var gustoCell = row.cells[1]; // Obtiene la celda del gusto
            var porcentajeCell = row.cells[2]; // Obtiene la celda del porcentaje
            
            var gustoInput = document.createElement('input');
            gustoInput.type = 'text';
            gustoInput.value = gustoCell.textContent;
            gustoInput.style.maxWidth = '100px'; // Establece un ancho máximo para el campo de gusto
            gustoCell.textContent = '';
            gustoCell.appendChild(gustoInput);

            var porcentajeInput = document.createElement('input');
            porcentajeInput.type = 'text';
            porcentajeInput.value = porcentajeCell.textContent;
            porcentajeInput.style.maxWidth = '50px'; // Establece un ancho máximo para el campo de porcentaje
            porcentajeCell.textContent = '';
            porcentajeCell.appendChild(porcentajeInput);

            target.textContent = 'Save';
        } else if (target.tagName === 'SPAN' && target.textContent === 'Save') {
            var row = target.parentNode.parentNode;
            var gustoInput = row.cells[1].querySelector('input');
            var porcentajeInput = row.cells[2].querySelector('input');
            
            row.cells[1].textContent = gustoInput.value;
            row.cells[2].textContent = porcentajeInput.value;

            target.textContent = 'Edit';
        }
    });
});

</script>
</html>
